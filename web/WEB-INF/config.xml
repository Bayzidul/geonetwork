<?xml version="1.0" encoding="ISO-8859-1"?>

<geonet>
	<!-- ====================================================================== -->

	<general>
		<profiles>user-profiles.xml</profiles>
		<uploadDir>WEB-INF/data/tmp</uploadDir>
		<debug>true</debug>
	</general>

	<!-- ====================================================================== -->

	<default>
		<service>main.home</service>
		<language>en</language>
		<localized>true</localized>
		<contentType>text/html; charset=UTF-8</contentType>

		<gui>
			<xml  name="strings"     file ="xml/strings.xml" />
			<xml  name="iso19115"    file ="xml/iso19115.xml" />
			<xml  name="iso19139"    file ="xml/iso19139.xml" />
		  	<xml  name="fgdc-std"    file ="xml/fgdc-std.xml" />
			<xml  name="dublin-core" file ="xml/dublin-core.xml" />
			<call name="session"     class="jeeves.guiservices.session.Get"/>
			<call name="env"         class="org.fao.geonet.guiservices.util.Env"/>
			<call name="results"     class="org.fao.geonet.guiservices.search.GetResultsInfo"/>
		</gui>

		<!-- service not found -->

		<error id="service-not-found" sheet="error.xsl">
			<xml name="error" file="xml/service-not-found-error.xml" />
		</error>

		<!-- no privileges to access the service -->

		<error id="service-not-allowed" sheet="error.xsl">
			<xml name="error" file="xml/privileges-error.xml" />
		</error>

		<!-- data in upload too big -->

		<error id="file-upload-too-big" sheet="error.xsl">
			<xml name="error" file="xml/file-too-big-error.xml" />
		</error>

		<!-- general error -->

		<error sheet="error.xsl">
			<xml name="error" file="xml/error.xml" />
		</error>

	</default>

	<!-- ====================================================================== -->

	<resources>
		<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
		<!-- mckoi standalone -->
		<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->

		<resource enabled="true">
			<name>main-db</name>
			<provider>jeeves.resources.dbms.DbmsPool</provider>
			<config>
        <user>qbzZlRdy</user>
        <password>Qp1PgFDy</password>
				<driver>com.mckoi.JDBCDriver</driver>
				<url>jdbc:mckoi://localhost/</url>
				<poolSize>10</poolSize>
			</config>
			<activator class="org.fao.geonet.activators.McKoiActivator">
				<configFile>WEB-INF/db/db.conf</configFile>
			</activator>
		</resource>

		<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
		<!-- mysql -->
		<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->

		<resource enabled="false">
			<name>main-db</name>
			<provider>jeeves.resources.dbms.DbmsPool</provider>
			<config>
				<user>admin</user>
				<password>admin</password>
				<driver>com.mysql.jdbc.Driver</driver>
				<url>jdbc:mysql://$WEBSERVER_HOST/geonetwork</url>
				<poolSize>10</poolSize>
				<reconnectTime>3600</reconnectTime>
			</config>
		</resource>

		<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
		<!-- oracle -->
		<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->

		<resource enabled="false">
			<name>main-db</name>
			<provider>jeeves.resources.dbms.DbmsPool</provider>
			<config>
				<user>admin</user>
				<password>admin</password>
				<driver>oracle.jdbc.driver.OracleDriver</driver>
				<url>jdbc:oracle:thin:@IP:1521:fs</url>
				<poolSize>10</poolSize>
			</config>
		</resource>
	</resources>

	<!-- ====================================================================== -->

	<appHandler class="org.fao.geonet.Geonetwork">
		<param name="luceneDir"      value="WEB-INF/lucene" />
		<param name="schemaMappings" value="schema-mappings.xml" />
		<param name="dataDir"        value="WEB-INF/data" />
	</appHandler>

	<!-- ====================================================================== -->

	<schedules package="org.fao.geonet"/>

	<!-- ====================================================================== -->

	<services package="org.fao.geonet">

		<service name="main.home">
			<output sheet="main-page.xsl">
				<call name="searchDefaults" class=".guiservices.search.GetDefaults"/>
				<call name="keywords"       class=".guiservices.keywords.Get"/>
				<call name="groups"         class=".guiservices.groups.GetMine"/>
				<call name="services"       class="jeeves.guiservices.services.Get"/>
				<call name="categories"     class=".services.category.List"/>
				<call name="regions"        class=".guiservices.regions.Get"/>
				<call name="sources"        class=".guiservices.util.Sources"/>

				<call name="latestUpdated"  class=".guiservices.metadata.GetLatestUpdated">
					<param name="maxItems"           value="10" />
					<param name="timeBetweenUpdates" value="10" />
				</call>

				<call name="featured"       class=".guiservices.metadata.GetRandom">
					<param name="maxItems"           value="1" />
					<param name="timeBetweenUpdates" value="10" />
				</call>

				<xml name="repositories"   file ="xml/repositories.xml"    localized="false" />
				<xml name="searchProfiles" file ="xml/search-profiles.xml" localized="false" />
			</output>
		</service>

		<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->

		<service name="main.search">
			<class name=".services.main.Search">
				<param name="maxSummaryKeys" value="10" />
			</class>

			<output forward="main.present"/>
		</service>

		<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->

		<service name="main.present">
			<class name=".services.main.Result">
				<param name="maxRecords" value="10" />
			</class>

			<output sheet="search-results.xsl">
				<call name="searchDefaults" class=".guiservices.search.GetDefaults"/>
				<call name="groups"         class=".guiservices.groups.GetMine"/>
				<call name="sources"        class=".guiservices.util.Sources"/>
				<call name="services"       class="jeeves.guiservices.services.Get"/>
				<xml  name="repositories"   file ="xml/repositories.xml" localized="false" />
			</output>
		</service>

		<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->

		<service name="remote.show">
			<class name=".services.main.RemoteShow">
				<param name="syntax" value="s" />
			</class>

			<output sheet="remote-show.xsl">
				<call name="services"     class="jeeves.guiservices.services.Get"/>
				<call name="currTab"      class=".guiservices.util.GetCurrentMDTab"/>
				<xml  name="isoLang"      file ="xml/iso-languages.xml" />
				<xml  name="repositories" file ="xml/repositories.xml" localized="false" />
			</output>
		</service>

		<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->

		<service name="feedback">
			<output sheet="feedback.xsl"/>
		</service>

		<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->

		<service name="links">
			<output sheet="page.xsl">
				<xml name="page" file="xml/links.xml" />
			</output>
		</service>

		<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->

		<service name="about">
			<output sheet="page.xsl">
				<xml name="page" file="xml/about.xml" />
			</output>
		</service>

		<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
		<!-- Feedback services                                             -->
		<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->

		<service name="feedback.insert">
			<class name=".services.feedback.Insert"/>

			<output sheet="info.xsl">
				<xml name="info" file="xml/feedback-sent.xml" />
			</output>
		</service>

		<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
		<!-- Utility services                                              -->
		<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->

		<service name="util.ping">
			<class name="jeeves.services.Ping"/>
		</service>

		<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->

		<service name="util.import">
			<class name=".services.metadata.ImportFromDir"/>
		</service>

		<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
		<!-- User services                                                 -->
		<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->

		<service name="user.list">
			<class name=".services.user.List"/>

			<output sheet="user-list.xsl">
				<xml name="strings" file="xml/confirm.xml" />
			</output>
		</service>

		<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->

		<service name="user.get">
			<class name=".services.user.Get"/>

			<output sheet="user-update.xsl">
				<call name="groups"     class = ".guiservices.groups.GetMine"/>
				<call name="profiles"   class = "jeeves.guiservices.profiles.Get"/>
				<xml  name="countries"  file  = "xml/countries.xml" />
			</output>
		</service>

		<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->

		<service name="user.update">
			<class name=".services.user.Update"/>
			<output forward="user.list" />
		</service>

		<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->

		<service name="user.remove">
			<class name=".services.user.Remove"/>
			<output forward="user.list" />
		</service>

		<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->

		<service name="user.pwedit">
			<class name=".services.user.Get"/>

			<output sheet="user-pwupdate.xsl"/>
		</service>

		<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->

		<service name="user.pwupdate">
			<class name=".services.user.PwUpdate"/>

			<output sheet="info.xsl">
				<xml  name="info"    file="xml/password-changed.xml" />
			</output>
		</service>

		<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->

		<service name="user.infoedit">
			<class name=".services.user.Get"/>

			<output sheet="user-infoupdate.xsl">
				<xml  name="countries"  file  = "xml/countries.xml" />
			</output>
		</service>

		<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->

		<service name="user.infoupdate">
			<class name=".services.user.InfoUpdate"/>

			<output sheet="info.xsl">
				<xml  name="info"    file="xml/info-changed.xml" />
			</output>
		</service>

		<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
		<!-- Group services                                                -->
		<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->

		<service name="group.list">
			<class name=".services.group.List"/>

			<output sheet="group-list.xsl"/>
		</service>

		<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->

		<service name="group.get">
			<class name=".services.group.Get"/>

			<output sheet="group-update.xsl"/>
		</service>

		<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->

		<service name="group.update">
			<class name=".services.group.Update"/>
			<output forward="group.list" />
		</service>

		<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->

		<service name="group.remove">
			<class name=".services.group.Remove"/>
			<output forward="group.list" />
		</service>

		<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
		<!-- Category services                                             -->
		<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->

		<service name="category.list">
			<class name=".services.category.List"/>

			<output sheet="category-list.xsl"/>
		</service>

		<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->

		<service name="category.get">
			<class name=".services.category.Get"/>

			<output sheet="category-update.xsl"/>
		</service>

		<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->

		<service name="category.update">
			<class name=".services.category.Update"/>
			<output forward="category.list" />
		</service>

		<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->

		<service name="category.remove">
			<class name=".services.category.Remove"/>
			<output forward="category.list" />
		</service>

		<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
		<!--                   Login services                              -->
		<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->

		<service name="user.login">
			<class name=".services.login.Login"/>

			<output forward="main.home" />

			<error id="user-login" sheet="error.xsl">
				<xml  name="error"   file="xml/login-error.xml" />
			</error>
		</service>

		<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->

		<service name="user.logout">
			<class name=".services.login.Logout"/>
			<output forward="main.home" />
		</service>

		<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
		<!-- Administration services                                       -->
		<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->

		<service name="admin">
			<output sheet="admin.xsl">
				<call name="services" class="jeeves.guiservices.services.Get"/>
			</output>
		</service>

		<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
		<!-- System configuration                                          -->
		<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->

		<service name="config">
			<output sheet="config/config.xsl">
				<xml name="config" file="xml/config.xml" />
			</output>
		</service>

		<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->

		<service name="xml.config.get">
			<class name=".services.config.Get"/>
		</service>

		<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->

		<service name="xml.config.set">
			<class name=".services.config.Set"/>
		</service>

		<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
    <!-- Localization                                                  -->
    <!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
    <service name="localization">
      <output sheet="localization/localization.xsl">
        <call name="languages" class=".guiservices.languages.Get" />
        <xml name="localiz" file="xml/localization.xml" />
      </output>
    </service>
    <!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
		<!-- Help services                                                 -->
		<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->

		<service name="help">
			<output sheet="page.xsl">
				<xml name="page" file="xml/help.xml" />
			</output>
		</service>

		<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->

		<service name="help.metadata">
			<output sheet="metadata-help.xsl"/>
		</service>

		<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
		<!-- Resources management services                                 -->
		<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->

		<service name="file.disclaimer">
			<output sheet="file-download-disclaimer.xsl" />
		</service>

		<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->

		<service name="file.download">
			<class name=".services.feedback.Insert"/>

			<output sheet="file-download.xsl" />
		</service>

		<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->

		<service name="graphover.show">
			<output sheet="graphover-show.xsl"/>
		</service>

		<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->

		<service name="resources.get">
			<class name=".services.resources.Download"/>

			<error id="file-not-found" sheet="error.xsl">
				<xml name="error" file="xml/file-not-found-error.xml" />
			</error>

			<output file="true"/>
		</service>

		<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->

		<service name="resources.upload">
			<class name=".services.resources.Upload" />

			<output forward="metadata.edit" />
		</service>

		<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->

		<service name="resources.del">
			<class name=".services.resources.Remove" />

			<error id="file-not-found" sheet="error.xsl">
				<xml name="error" file="xml/file-not-found-error.xml" />
			</error>

			<output forward="metadata.edit" />
		</service>

		<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
		<!-- XML services -->

		<service name="xml.user.login">
			<class name=".services.login.Login"/>
		</service>

		<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->

		<service name="xml.user.logout">
			<class name=".services.login.Logout"/>
		</service>

		<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->

		<service name="xml.search">
			<class name=".services.main.XmlSearch"/>

			<output sheet="portal-present.xsl" contentType="text/xml; charset=UTF-8"/>
		</service>

		<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->

		<service name="xml.metadata.get">
			<class name=".services.metadata.Show"/>
		</service>

		<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->

		<service name="xml.info">
			<class name=".services.main.Info"/>
		</service>

		<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->

		<service name="xml.forward">
			<class name=".services.main.Forward"/>
		</service>

		<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
		<!-- GeoNetwork Mapping Application XML services  -->

		<service name="xml.user.list">
			<class name=".services.user.List"/>
		</service>

		<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->

		<service name="xml.group.list">
			<class name=".services.group.List"/>
		</service>

		<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->

		<service name="xml.metadata.insert">
			<class name=".services.metadata.Insert"/>
		</service>

		<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->

		<service name="xml.metadata.delete">
			<class name=".services.metadata.Delete"/>
		</service>

		<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
		<!-- Catalogue Services for the Web -->

		<service name="csw">
			<class name=".services.main.CswDispatcher"/>
		</service>

		<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
		<!-- RSS services -->

		<service name="rss.latest">
			<output sheet="rss-latest.xsl" contentType="text/xml; charset=UTF-8">
				<call name="latestUpdated"  class=".guiservices.metadata.GetLatestUpdated">
					<param name="maxItems"           value="20" />
					<param name="timeBetweenUpdates" value="10" />
				</call>
				<call name="siteURL" class=".guiservices.util.GetSiteURL"/>
			</output>
		</service>

		<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->

		<service name="rss.search">
			<class name=".services.main.Search">
				<param name="maxSummaryKeys" value="10" />
			</class>
		</service>

		<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->

		<service name="rss.present">
			<class name=".services.main.Result"/>

			<output sheet="rss-search.xsl" contentType="text/xml; charset=UTF-8">
				<call name="siteURL" class=".guiservices.util.GetSiteURL"/>
			</output>
		</service>

		<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
		<!-- MEF services -->

		<service name="xml.mef.import">
			<class name=".services.mef.Import"/>
		</service>

		<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->

		<service name="xml.mef.export">
			<class name=".services.mef.Export"/>

			<output file="true"/>
		</service>
	</services>

	<!-- ====================================================================== -->

	<include>config-metadata.xml</include>
	<include>config-harvesting.xml</include>
	<include>config-portal.xml</include>

	<!-- ====================================================================== -->

</geonet>



