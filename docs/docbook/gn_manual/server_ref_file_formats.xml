<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE article
  PUBLIC "-//OASIS//DTD DocBook XML V4.1.2//EN" "http://www.oasis-open.org/docbook/xml/4.1.2/docbookx.dtd">
<article lang="">
   <para>Metadata Exchange Format v1.1</para><sect1><title>Introduction</title>
   <para>Introduction</para>
   <para>The metadata exchange format (MEF in short) is a special designed file format whose purpose is to allow metadata exchange between different platforms. A metadata exported into this format can be imported by any platform which is able to understand it. This format has been developed with GeoNetwork in mind so the information it contains is mainly related to it. Nevertheless, it can be used as an interoperability format between any platform. </para>
   <para>This format has been designed with these needs in mind: </para>
   <orderedlist>
      <listitem>
         <para>Export a metadata record for backup purposes </para>
      </listitem>
      <listitem>
         <para>Import a metadata record from a previous backup </para>
      </listitem>
      <listitem>
         <para>Import a metadata record from a different GeoNetwork version to allow a smooth migration from one version to another.</para>
      </listitem>
   </orderedlist>
   <para>All these operations regard the metadata and its related data as well. </para>
   <para>In the paragraphs below, some terms should be intended as follows: </para>
   <orderedlist>
      <listitem>
         <para>the term actor is used to indicate any system (application, service etc...) that operates on metadata. </para>
      </listitem>
      <listitem>
         <para>the term reader will be used to indicate any actor that can import metadata from a MEF file. </para>
      </listitem>
      <listitem>
         <para>the term writer will be used to indicate any actor that can generate a MEF file.</para>
      </listitem>
   </orderedlist></sect1><sect1><title>File format</title>
   <para>File format</para>
   <para>A MEF file is simply a ZIP file which contains the following files: </para>
   <orderedlist>
      <listitem>
         <para>metadata.xml : this file contains the metadata itself, in XML format. The text encoding of the metadata is that one specified into the XML declaration. </para>
      </listitem>
      <listitem>
         <para>info.xml : this is a special XML file which contains information related to the metadata but that cannot be stored into it. Examples of such information are the creation date, the last change date, privileges on the metadata and so on. Now this information is related to the GeoNetwork’s architecture. </para>
      </listitem>
      <listitem>
         <para>public : this is a directory used to store the metadata thumbnails and other public files. There are no restrictions on the images’ format but it is strongly recommended to use the portable network graphics (PNG), the JPEG or the GIF formats. </para>
      </listitem>
      <listitem>
         <para>private : this is a directory used to store all data (maps, shape files etc...) associated to the metadata. Files in this directory are <emphasis>private</emphasis> in the sense that an authorization is required to access them. There are no restrictions on the file types that can be stored into this directory.</para>
      </listitem>
   </orderedlist>
   <para>Any other file or directory present into the MEF file should be ignored by readers that don’t recognize them. This allows actors to add custom extensions to the MEF file. </para>
   <para>A MEF file can have empty public and private folders depending on the export format, which can be: </para>
   <orderedlist>
      <listitem>
         <para>simple : both public and private are omitted. </para>
      </listitem>
      <listitem>
         <para>partial : only public files are provided. </para>
      </listitem>
      <listitem>
         <para>full : both public and private files are provided.</para>
      </listitem>
   </orderedlist>
   <para>It is recommended to use the .mef extension when naming MEF files. </para></sect1><sect1><title>The info.xml file</title>
   <para>The info.xml file</para>
   <para>This file contains general information about a metadata. It must have an info root element with a mandatory version attribute. This attribute must be in the X.Y form, where X represents the major version and Y the minor one. The purpose of this attribute is to allow future changes of this format maintaining compatibility with older readers. The policy behind the version is this: </para>
   <orderedlist>
      <listitem>
         <para>A change to Y means a minor change. All existing elements in the previous version must be left unchanged: only new elements or attributes may be added. A reader capable of reading version X.Y is also capable of reading version X.Y’ with Y’&gt;Y. </para>
      </listitem>
      <listitem>
         <para>A change to X means a major change. Usually, a reader of version X.Y is not able to read version X’.Y with X’&gt;X.</para>
      </listitem>
   </orderedlist>
   <para>The root element must have the following children: </para>
   <orderedlist>
      <listitem>
         <para>general : a container for general information. It must have the following children: </para>
      </listitem>
      <listitem>
         <para>categories : a container for categories associated to this metadata. A category is just a name, like ’audio-video’ that classifies the metadata to allow an easy search. Each category is specified by a category element which must have a name attribute. This attribute is used to store the category’s name. If there are no categories, the categories element will be empty. </para>
      </listitem>
      <listitem>
         <para>privileges : a container for privileges associated to this metadata. Privileges are operations that a group (which represents a set of users) can do on a metadata and are specified by a set of group elements. Each one of these, has a mandatory name attribute to store the group’s name and a set of operation elements used to store the operations allowed on the metadata. Each operation element must have a name attribute which value must belong to the following set: { <emphasis>view</emphasis>, <emphasis>download</emphasis>, <emphasis>notify</emphasis>, <emphasis>dynamic</emphasis>, <emphasis>featured</emphasis> }. If there are no groups or the actor does not have the concept of group, the privileges element will be empty. A group element without any operation element must be ignored by readers. </para>
      </listitem>
      <listitem>
         <para>public : All metadata thumbnails (and any other public file) must be listed here. This container contains a file element for each file. Mandatory attributes of this element are name, which represents the file’s name and changeDate, which contains the date of the latest change to the file. The public element is optional but, if present, must contain all the files present in the metadata’s public directory and any reader that imports these files must set the latest change date on these using the provided ones. The purpose of this element is to provide more information in the case the MEF format is used for metadata harvesting. </para>
      </listitem>
      <listitem>
         <para>private : This element has the same purpose and structure of the public element but is related to maps and all other private files.</para>
      </listitem>
   </orderedlist>
   <para>Any other element or attribute should be ignored by readers that don’t understand them. This allows actors to add custom attributes or sub-trees to the XML. </para>
   <para>shows an example of info file. </para><sect2><title>Date format</title>
   <para>Date format</para>
   <para>Unless differently specified, all dates in this file must be in the ISO/8601 format. The pattern must be YYYY-MM-DDTHH:mm:SS and the time zone should be the local one. </para></sect2></sect1></article>